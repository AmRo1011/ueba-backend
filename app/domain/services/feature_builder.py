from typing import List, Dict, Any
from app.core.uow import IUnitOfWork

class FeatureBuilder:
    def __init__(self, uow: IUnitOfWork):
        self.uow = uow

    def build_rows(self, hours:int=24) -> List[Dict[str, Any]]:
        """
        ????? list[dict] ??? user ???? user_id + ?????? ?????
        ???? ???? ????? ???????? ??????? ?? ????? ???????.
        """
        feats = self.uow.logs.feature_window(hours=hours)
        return list(feats.values())
